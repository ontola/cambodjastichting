---
import type { Resource } from '@tomic/lib';
import type { Page } from '../../ontologies/website';
import BlockView from '../Block/BlockView.astro';
import Container from '../../components/Layout/Container.astro';
import VStack from '../../components/Layout/VStack.astro';
import ResourceClickHandler from '../../components/ResourceClickHandler.astro';

type Props = {
  resource: Resource<Page>;
};

const { resource } = Astro.props;
---

<Container>
  <ResourceClickHandler subject={resource.subject}>
    <h2>{resource.title}</h2>

    <VStack>
      {
        (resource.props.blocks ?? []).map(block => (
          <BlockView subject={block} />
        ))
      }
    </VStack>
  </ResourceClickHandler>
</Container>

<style></style>
